webpackJsonp([1],{"6Lgb":function(t,e){},"7zck":function(t,e){},"9wN2":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n("7+uW"),o={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-app",[e("v-content",[e("router-view")],1)],1)},staticRenderFns:[]};var s=n("VU/8")({name:"App"},o,!1,function(t){n("9wN2")},null,null).exports,a=n("/ocq"),i={props:{source:String},data:function(){return{drawer:null,login:{},items:[{icon:"add_shopping_cart",text:"AddItem",url:"AddItem"},{icon:"edit",text:"EditItem",url:"EditItem"},{icon:"history",text:"baz"},{icon:"featured_play_list",text:"gaz"},{icon:"watch_later",text:"taz"}]}},created:function(){this.$vuetify.theme.dark=!1},mounted:function(){this.$store.dispatch("SETMANUFACTURER"),this.$store.dispatch("set_models"),this.$store.dispatch("set_stores"),this.init()},methods:{init:function(){console.log(this.$store.getters.login.name)},logout:function(){localStorage.removeItem("jwt"),localStorage.removeItem("login"),this.$store.commit("set_login",null),this.$router.push({name:"Login"})}}},l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"inspire"}},[n("v-navigation-drawer",{attrs:{app:"",dark:"",clipped:""},scopedSlots:t._u([{key:"prepend",fn:function(){return[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-avatar",[n("img",{attrs:{src:"https://randomuser.me/api/portraits/men/81.jpg"}})]),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v(t._s(t.login.name))]),t._v(" "),n("v-btn",{attrs:{"x-small":"",dark:"",color:"secondary"},on:{click:function(e){return t.logout()}}},[t._v("logout\n            ")])],1)],1)]},proxy:!0}]),model:{value:t.drawer,callback:function(e){t.drawer=e},expression:"drawer"}},[t._v(" "),n("v-list",{attrs:{dense:""}},t._l(t.items,function(e){return n("v-list-item",{key:e.text,attrs:{link:""},on:{click:function(n){return t.$router.push({name:e.url,params:{id:1}})}}},[n("v-list-item-action",[n("v-icon",[t._v(t._s(e.icon))])],1),t._v(" "),n("v-list-item-content",[n("v-list-item-title",[t._v("\n              "+t._s(e.text)+"\n            ")])],1)],1)}),1)],1),t._v(" "),n("v-app-bar",{attrs:{app:"","clipped-left":"",color:"blue lighten-1",dense:""}},[n("v-app-bar-nav-icon",{on:{click:function(e){e.stopPropagation(),t.drawer=!t.drawer}}}),t._v(" "),n("v-icon",{staticClass:"mx-4"},[t._v("fab fa-youtube")]),t._v(" "),n("v-toolbar-title",{staticClass:"mr-12 align-center"},[n("span",{staticClass:"title"},[t._v("WarehouseApp")])]),t._v(" "),n("v-spacer"),t._v(" "),n("v-row",{staticStyle:{"max-width":"650px"},attrs:{align:"center"}},[n("v-text-field",{attrs:{"append-icon-cb":function(){},placeholder:"Search...","single-line":"","append-icon":"search",color:"white","hide-details":""}})],1)],1),t._v(" "),n("v-content",[n("router-view")],1)],1)},staticRenderFns:[]},c=n("VU/8")(i,l,!1,null,null,null).exports,u=n("mvHQ"),d=n.n(u),p={data:function(){return{valid:!0,dialog:!1,alert_notice:{message:null,on:!1,type:"error",type_error:null},usr:{exists:!0,login:"",password:"",password_conf:""}}},methods:{login:function(t){var e=this;fetch("http://localhost:3000/api/user/login",{method:"POST",headers:{"Content-Type":"application/json"},body:d()(t)}).then(function(t){200==t.status&&t.json().then(function(t){localStorage.setItem("jwt",t.jwt),e.$store.dispatch("set_login",t)}).then(function(t){return e.$router.push({name:"Main"})}),403==t.status&&t.text().then(function(t){return e.alarma(t)}),400==t.status&&t.text().then(function(t){return e.alarma(t)}),500==t.status&&(console.log(t),e.alarma("server error"))})},test:function(){this.$router.push({path:"/"})},alarma:function(t){var e=this;this.alert_notice.on=!0,this.alert_notice.message=t,setTimeout(function(){e.alert_notice.on=!1},2e3)},register:function(){var t=this;if(this.usr.password!==this.usr.password_conf)this.alarma("password mismatch");else{var e={login:this.usr.login,password:this.usr.password};console.log(e),fetch("http://localhost:8080/JEE7_REST/api/user/register",{method:"POST",headers:{"Content-Type":"application/json"},body:d()(e)}).then(function(e){200==e.status&&e.text().then(function(t){console.log(t)}),400==e.status?e.text().then(function(e){return t.alarma(e)}):e.text().then(function(t){return console.log("!!!"+t)})})}}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-content",[n("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs4:""}},[n("v-alert",{attrs:{value:t.alert_notice.on,type:t.alert_notice.type}},[t._v("\n          "+t._s(t.alert_notice.message)+"\n        ")]),t._v(" "),n("v-dialog",{attrs:{"max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"justify-center"},[n("span",[t._v("confirm password")])]),t._v(" "),n("v-text-field",{attrs:{type:"password",solo:"",label:"password"},model:{value:t.usr.password_conf,callback:function(e){t.$set(t.usr,"password_conf",e)},expression:"usr.password_conf"}}),t._v(" "),n("v-card-actions",{staticClass:"justify-center"},[n("v-btn",{on:{click:t.register}},[t._v("ok")])],1)],1)],1)],1)],1),t._v(" "),n("v-layout",{attrs:{row:"",wrap:"","justify-center":""}},[n("v-flex",{attrs:{xs2:""}},[n("v-form",{model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[n("v-text-field",{attrs:{label:"login",rules:[function(t){return!!t||"login должен быть заполнен"}],required:""},model:{value:t.usr.login,callback:function(e){t.$set(t.usr,"login",e)},expression:"usr.login"}}),t._v(" "),n("v-text-field",{attrs:{type:"password",label:"password",rules:[function(t){return!!t||"password должен быть заполнен"}],required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.login(t.usr)}},model:{value:t.usr.password,callback:function(e){t.$set(t.usr,"password",e)},expression:"usr.password"}}),t._v(" "),n("v-btn",{attrs:{disabled:!t.valid},on:{click:function(e){return t.login(t.usr)}}},[t._v("singin")]),t._v(" "),"not_exists"==t.alert_notice.type_error?n("v-btn",{on:{click:function(e){t.dialog=!0}}},[t._v("register")]):t._e(),t._v(" "),"incorrect_password"==t.alert_notice.type_error?n("v-btn",{on:{click:t.alarma}},[t._v("reset password")]):t._e()],1)],1)],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(p,m,!1,function(t){n("6Lgb")},"data-v-41b47dae",null).exports,f={data:function(){return{product:{manufacturer:{id:null,name:null},model:null,serial_num:null,inventory_num:null,ip_addr:null,mac_addr:null,storage:{id:null,name:null,address:null}},alert_notice:{message:null,on:!1,type:"error",type_error:null}}},name:"Product",computed:{list_manufacturers:function(){return this.$store.state.manufacturer.map(function(t){return{id:t.id,name:t.name}})},list_products:function(){var t=this;return this.$store.state.models.filter(function(e){return e.manufacturer_id===t.product.manufacturer.id}).map(function(t){return t.name})},list_storages:function(){return this.$store.state.stores.map(function(t){return{id:t.id,name:t.name,address:t.address}})}},mounted:function(){this.drawer=!1},methods:{handleSubmit:function(){var t={model:this.product.model,manufacturer_id:this.product.manufacturer.id,serial_num:this.product.serial_num,inventory_num:this.product.inventory_num,ip_addr:this.product.ip_addr,store_to:this.product.storage.id,user:this.$store.getters.login};fetch("http://localhost:3000/api/products",{method:"POST",headers:{"Content-Type":"application/json"},body:d()(t)}).then(function(t){console.log(t)})},test:function(){console.log(this.$store.getters.login)},alarma:function(t,e){var n=this;this.alert_notice.on=!0,this.alert_notice.type=e,this.alert_notice.message=t,setTimeout(function(){n.alert_notice.on=!1},2e3)}}},_={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{attrs:{fluid:""}},[n("v-row",{staticClass:"justify-center"},[n("v-col",{attrs:{cols:"12",sm:"12",md:"8"}},[n("v-card",{attrs:{shaped:""}},[n("v-card-title",{staticClass:"justify-center"},[t._v("ТМЦ")]),t._v(" "),n("v-card-subtitle",[t._v("Добавить технику")]),t._v(" "),n("v-list-item",{attrs:{dense:""}},[n("v-list-item-content",[n("v-row",[n("v-col",{attrs:{sm:"6"}},[n("v-select",{attrs:{items:t.list_manufacturers,"item-text":"name",label:"Производитель",outlined:"","return-object":""},model:{value:t.product.manufacturer,callback:function(e){t.$set(t.product,"manufacturer",e)},expression:"product.manufacturer"}})],1),t._v(" "),n("v-col",{attrs:{sm:"6"}},[n("v-select",{attrs:{items:t.list_products,label:"Модель",outlined:""},model:{value:t.product.model,callback:function(e){t.$set(t.product,"model",e)},expression:"product.model"}})],1)],1),t._v(" "),n("v-row",[n("v-col",{attrs:{sm:"6"}},[n("v-text-field",{staticClass:"styled-input",attrs:{label:"Серийный номер",outlined:""},model:{value:t.product.serial_num,callback:function(e){t.$set(t.product,"serial_num",e)},expression:"product.serial_num"}})],1),t._v(" "),n("v-col",{attrs:{sm:"6"}},[n("v-text-field",{attrs:{label:"Инвентарный номер",outlined:""},model:{value:t.product.inventory_num,callback:function(e){t.$set(t.product,"inventory_num",e)},expression:"product.inventory_num"}})],1),t._v(" "),n("v-col",{attrs:{sm:"6"}},[n("v-text-field",{attrs:{label:"ip адрес",outlined:""},model:{value:t.product.ip_addr,callback:function(e){t.$set(t.product,"ip_addr",e)},expression:"product.ip_addr"}})],1),t._v(" "),n("v-col",{attrs:{sm:"6"}},[n("v-text-field",{attrs:{label:"mac адрес",outlined:""},model:{value:t.product.mac_addr,callback:function(e){t.$set(t.product,"mac_addr",e)},expression:"product.mac_addr"}})],1),t._v(" "),n("v-col",{attrs:{sm:"12"}},[n("v-select",{attrs:{items:t.list_storages,label:"Склад","item-text":"address",outlined:"","return-object":""},model:{value:t.product.storage,callback:function(e){t.$set(t.product,"storage",e)},expression:"product.storage"}})],1)],1)],1)],1),t._v(" "),n("v-alert",{attrs:{value:t.alert_notice.on,type:t.alert_notice.type}},[t._v("\n          "+t._s(t.alert_notice.message)+"\n        ")]),t._v(" "),n("v-card-actions",[n("v-row",{staticClass:"justify-center"},[n("v-btn",{attrs:{raised:"",color:"primary"},on:{click:function(e){return t.handleSubmit()}}},[t._v("Добавить на склад")])],1)],1)],1)],1)],1)],1)},staticRenderFns:[]};var h=n("VU/8")(f,_,!1,function(t){n("dRrp")},"data-v-592762e8",null).exports,g={render:function(){var t=this.$createElement,e=this._self._c||t;return e("v-content",[e("v-container",{attrs:{"grid-list-xl":"","text-xs-center":""}},[e("h1",[this._v("111111")])])],1)},staticRenderFns:[]},x=n("VU/8")({data:function(){return{valid:!0}},methods:{test:function(){this.$router.push({name:"HelloWorld"})}}},g,!1,null,null,null).exports;r.default.use(a.a);var w=new a.a({routes:[{path:"/Login",name:"Login",component:v},{path:"/",name:"Main",component:c,beforeEnter:function(t,e,n){localStorage.getItem("jwt")?n():n("/Login")},children:[{path:"addItem",name:"AddItem",alias:"",component:h},{path:"EditItem",name:"EditItem",alias:"",component:x}]}]}),b=n("3EgV"),y=n.n(b),k=(n("7zck"),n("Xxa5")),$=n.n(k),E=n("exGp"),j=n.n(E),R=n("NYxO"),S=this;r.default.use(R.a);var T,A,C=new R.a.Store({state:{login:{},jwt:localStorage.getItem("jwt"),drawer:!1,manufacturer:[],products:[],stores:[],models:[]},getters:{login:function(t){return t.login},DRAWER:function(t){return t.drawer},MANUFACTURER:function(t){return t.manufacturer},PRODUCTS:function(t){return t.manufacturer},storages:function(t){return t.stores},models:function(t){return t.models}},mutations:{set_login:function(t,e){t.login=e},SET_DRAWER:function(t,e){t.drawer=e},SET_MANUFACTURER:function(t,e){t.manufacturer=e},set_models:function(t,e){t.models=e},set_stores:function(t,e){t.stores=e}},actions:{set_login:function(t,e){(0,t.commit)("set_login",e)},SETMANUFACTURER:function(t){var e=this,n=t.commit;return j()($.a.mark(function t(){var r;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3000/api/manufacturers/all").then(function(t){return t.json()});case 3:r=t.sent,n("SET_MANUFACTURER",r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,e,[[0,7]])}))()},set_models:(A=j()($.a.mark(function t(e,n){var r;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3000/api/models/all").then(function(t){return t.json()});case 3:r=t.sent,e.commit("set_models",r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}},t,S,[[0,7]])})),function(t,e){return A.apply(this,arguments)}),set_stores:(T=j()($.a.mark(function t(e){var n,r=e.commit;return $.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("http://localhost:3000/api/stores/all").then(function(t){return t.json()});case 3:n=t.sent,console.log(n),r("set_stores",n),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}},t,S,[[0,8]])})),function(t){return T.apply(this,arguments)})}});r.default.config.productionTip=!1,r.default.use(y.a),new r.default({el:"#app",router:w,store:C,components:{App:s},template:"<App/>",vuetify:new y.a({icons:{iconfont:"mdi"}})})},dRrp:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.3d202cdec17c76a2f3f5.js.map